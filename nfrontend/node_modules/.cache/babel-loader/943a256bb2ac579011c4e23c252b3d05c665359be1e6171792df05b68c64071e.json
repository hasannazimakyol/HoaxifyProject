{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HAKYOL\\\\nfrontend\\\\src\\\\shared\\\\ApiProgress.js\";\nimport React, { Component } from 'react'; //rcc\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nexport function withApiProgress(WrappedComponent, apiPath) {\n  var _class;\n  return _class = class extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        pendingApiCall: false\n      };\n      this.unregisterInterceptors = () => {\n        axios.interceptors.request.eject(this.requestInterceptor);\n        axios.interceptors.response.eject(this.responseInterceptor);\n      };\n      this.registerInterceptors = () => {\n        this.requestInterceptor = axios.interceptors.request.use(request => {\n          // if (request.url === this.props.path) {\n          //     this.setState({ pendingApiCall: true });\n          // }\n          //console('running request intercepter', apiPath);\n          this.updateApiCallFor(request.url, true);\n          return request;\n        });\n        this.responseInterceptor = axios.interceptors.response.use(response => {\n          this.updateApiCallFor(response.url, false);\n          return response;\n        }, error => {\n          this.updateApiCallFor(error.url, false);\n          throw error;\n        });\n      };\n      this.updateApiCallFor = (url, inProgress) => {\n        if (url === apiPath) {\n          this.setState({\n            pendingApiCall: inProgress\n          });\n        }\n      };\n    }\n    componentDidMount() {\n      this.registerInterceptors();\n    }\n    componentWillUnmount() {\n      this.unregisterInterceptors();\n    }\n    render() {\n      const {\n        pendingApiCall\n      } = this.state.pendingApiCall;\n      // return (<div>{React.cloneElement(this.props.children, {pendingApiCall: pendingApiCall})}</div>);\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, {\n        ...this.props,\n        pendingApiCall: pendingApiCall\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }, this);\n    }\n  }, _class.displayName = `ApiProgress(${getDisplayName(WrappedComponent)})`, _class;\n}","map":{"version":3,"names":["React","Component","axios","jsxDEV","_jsxDEV","getDisplayName","WrappedComponent","displayName","name","withApiProgress","apiPath","_class","constructor","args","state","pendingApiCall","unregisterInterceptors","interceptors","request","eject","requestInterceptor","response","responseInterceptor","registerInterceptors","use","updateApiCallFor","url","error","inProgress","setState","componentDidMount","componentWillUnmount","render","props","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/HAKYOL/nfrontend/src/shared/ApiProgress.js"],"sourcesContent":["import React, { Component } from 'react'; //rcc\r\nimport axios from \"axios\";\r\n\r\nfunction getDisplayName(WrappedComponent) {\r\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n}\r\n\r\nexport function withApiProgress(WrappedComponent, apiPath) {\r\n    return class extends Component {\r\n\r\n        // static displayName = 'ApiProgress(' + getDisplayName(WrappedComponent) + ')';\r\n        static displayName = `ApiProgress(${getDisplayName(WrappedComponent)})`;\r\n\r\n        state = {\r\n            pendingApiCall: false\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.registerInterceptors();\r\n        };\r\n\r\n        componentWillUnmount() {\r\n            this.unregisterInterceptors();\r\n        };\r\n\r\n        unregisterInterceptors = () => {\r\n            axios.interceptors.request.eject(this.requestInterceptor);\r\n            axios.interceptors.response.eject(this.responseInterceptor);\r\n        }\r\n\r\n        registerInterceptors = () => {\r\n            this.requestInterceptor = axios.interceptors.request.use((request) => {\r\n                // if (request.url === this.props.path) {\r\n                //     this.setState({ pendingApiCall: true });\r\n                // }\r\n                //console('running request intercepter', apiPath);\r\n                this.updateApiCallFor(request.url, true);\r\n                return request;\r\n            });\r\n\r\n            this.responseInterceptor = axios.interceptors.response.use((response) => {\r\n                this.updateApiCallFor(response.url, false);\r\n                return response;\r\n            }, (error) => {\r\n                this.updateApiCallFor(error.url, false);\r\n                throw error;\r\n            });\r\n        }\r\n\r\n        updateApiCallFor = (url, inProgress) => {\r\n            if (url === apiPath) {\r\n                this.setState({ pendingApiCall: inProgress });\r\n            }\r\n        }\r\n\r\n        render() {\r\n            const { pendingApiCall } = this.state.pendingApiCall\r\n            // return (<div>{React.cloneElement(this.props.children, {pendingApiCall: pendingApiCall})}</div>);\r\n            return <WrappedComponent {...this.props} pendingApiCall={pendingApiCall} />\r\n        }\r\n    }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO,CAAC,CAAC;AAC1C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,cAAcA,CAACC,gBAAgB,EAAE;EACtC,OAAOA,gBAAgB,CAACC,WAAW,IAAID,gBAAgB,CAACE,IAAI,IAAI,WAAW;AAC/E;AAEA,OAAO,SAASC,eAAeA,CAACH,gBAAgB,EAAEI,OAAO,EAAE;EAAA,IAAAC,MAAA;EACvD,OAAAA,MAAA,GAAO,cAAcV,SAAS,CAAC;IAAAW,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MAAA,KAK3BC,KAAK,GAAG;QACJC,cAAc,EAAE;MACpB,CAAC;MAAA,KAUDC,sBAAsB,GAAG,MAAM;QAC3Bd,KAAK,CAACe,YAAY,CAACC,OAAO,CAACC,KAAK,CAAC,IAAI,CAACC,kBAAkB,CAAC;QACzDlB,KAAK,CAACe,YAAY,CAACI,QAAQ,CAACF,KAAK,CAAC,IAAI,CAACG,mBAAmB,CAAC;MAC/D,CAAC;MAAA,KAEDC,oBAAoB,GAAG,MAAM;QACzB,IAAI,CAACH,kBAAkB,GAAGlB,KAAK,CAACe,YAAY,CAACC,OAAO,CAACM,GAAG,CAAEN,OAAO,IAAK;UAClE;UACA;UACA;UACA;UACA,IAAI,CAACO,gBAAgB,CAACP,OAAO,CAACQ,GAAG,EAAE,IAAI,CAAC;UACxC,OAAOR,OAAO;QAClB,CAAC,CAAC;QAEF,IAAI,CAACI,mBAAmB,GAAGpB,KAAK,CAACe,YAAY,CAACI,QAAQ,CAACG,GAAG,CAAEH,QAAQ,IAAK;UACrE,IAAI,CAACI,gBAAgB,CAACJ,QAAQ,CAACK,GAAG,EAAE,KAAK,CAAC;UAC1C,OAAOL,QAAQ;QACnB,CAAC,EAAGM,KAAK,IAAK;UACV,IAAI,CAACF,gBAAgB,CAACE,KAAK,CAACD,GAAG,EAAE,KAAK,CAAC;UACvC,MAAMC,KAAK;QACf,CAAC,CAAC;MACN,CAAC;MAAA,KAEDF,gBAAgB,GAAG,CAACC,GAAG,EAAEE,UAAU,KAAK;QACpC,IAAIF,GAAG,KAAKhB,OAAO,EAAE;UACjB,IAAI,CAACmB,QAAQ,CAAC;YAAEd,cAAc,EAAEa;UAAW,CAAC,CAAC;QACjD;MACJ,CAAC;IAAA;IApCDE,iBAAiBA,CAAA,EAAG;MAChB,IAAI,CAACP,oBAAoB,CAAC,CAAC;IAC/B;IAEAQ,oBAAoBA,CAAA,EAAG;MACnB,IAAI,CAACf,sBAAsB,CAAC,CAAC;IACjC;IAgCAgB,MAAMA,CAAA,EAAG;MACL,MAAM;QAAEjB;MAAe,CAAC,GAAG,IAAI,CAACD,KAAK,CAACC,cAAc;MACpD;MACA,oBAAOX,OAAA,CAACE,gBAAgB;QAAA,GAAK,IAAI,CAAC2B,KAAK;QAAElB,cAAc,EAAEA;MAAe;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC/E;EACJ,CAAC,EAAA1B,MAAA,CAjDUJ,WAAW,GAAI,eAAcF,cAAc,CAACC,gBAAgB,CAAE,GAAE,EAAAK,MAAA;AAkD/E"},"metadata":{},"sourceType":"module","externalDependencies":[]}